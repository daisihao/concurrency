1、在静态初始化函数中初始化一个对象引用
2、将对象的引用保存到volatile类型域或者AtomicReference对象中
3、将对象的引用保存到某个正确构造对象的final类型域中
4、将对象的引用保存到一个由锁保护的域中

1、恶汉模式线程安全
2、不同的静态代码块是按照顺序执行的
3、直接使用懒汉模式,是线程不安全的,因为可能同时为空,这个时候会创建出两个对象
4、如果在懒汉模式中使用synchronized修饰实例方法,是线程安全的,但是会带来性能开销
5、如果在懒汉模式中使用双重校验并且在创建方法上加上synchronized,是线程不安全的,因为CPU会指令重排,可能一个线程还没有创建成功,另一个线程就开始使用,有概率发生风险
6、为了防止CPU指令重排,在定义对象实例的时候加上volatile关键字,来防止CPU指令重排,这个volatile用来做dobuleCheck的重要作用之一
4、推荐的写法是使用枚举单例模式